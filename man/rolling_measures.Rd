% Generated by roxygen2: do not edit by hand
% Please edit documentation in R/rolling_measures.R
\name{rolling_measures}
\alias{rolling_measures}
\title{Calculate Rolling Window Measures for Time Series Data}
\usage{
rolling_measures(
  data,
  id_col = NULL,
  ts_cols = NULL,
  measures = NULL,
  window_width = 7L,
  scale_min = NULL,
  scale_max = NULL,
  rescale = FALSE,
  na_action = c("pass", "omit", "fail")
)
}
\arguments{
\item{data}{A data frame containing time series data.}

\item{id_col}{Character string specifying the column name for grouping
identifiers. If \code{NULL}, global calculations are performed.
Default is \code{NULL}.}

\item{ts_cols}{Character vector specifying column names containing time
series data. If \code{NULL}, all numeric columns (excluding \code{id_col})
are used. Default is \code{NULL}.}

\item{measures}{Character vector specifying which measures to calculate.
Options: "complexity", "fluctuation", "distribution", "autocorrelation",
"max", "min", "variance". If \code{NULL}, all measures are calculated.
Default is \code{NULL}.}

\item{window_width}{Positive integer specifying the rolling window size.
Must be at least 2. Default is 7.}

\item{scale_min}{Numeric value for minimum scale used in complexity-based
measures. If \code{NULL}, computed from data. Default is \code{NULL}.}

\item{scale_max}{Numeric value for maximum scale used in complexity-based
measures. If \code{NULL}, computed from data. Default is \code{NULL}.}

\item{rescale}{Logical indicating whether to rescale complexity-based
measures to original data range. Default is \code{FALSE}.}

\item{na_action}{Character string specifying how to handle missing values.
Options: "omit" (remove), "fail" (stop on NA), "pass" (keep).
Default is "pass".}
}
\value{
A data frame containing the original data with additional columns
  for each calculated measure. Column names follow the pattern
  \code{<original_column>_<measure>}. For multivariate data, additional
  columns \code{mean_<measure>} and \code{median_<measure>} contain
  row-wise statistics across variables.
}
\description{
Computes various rolling window measures including dynamic complexity,
fluctuation, distribution, autocorrelation, and basic statistics for
univariate or multivariate time series data. Supports both grouped
(local) and ungrouped (global) calculations.
}
\details{
The function calculates the following measures:
\itemize{
  \item \strong{complexity}: Product of fluctuation and distribution measures
  \item \strong{fluctuation}: Root mean square of successive differences
  \item \strong{distribution}: Deviation from uniform distribution
  \item \strong{autocorrelation}: Lag-1 autocorrelation coefficient
  \item \strong{max}: Rolling maximum
  \item \strong{min}: Rolling minimum
  \item \strong{variance}: Rolling variance
}

Scale-dependent measures (complexity, fluctuation, distribution) require
\code{scale_min} and \code{scale_max} parameters. If not provided, they
are computed from the data range.
}
\examples{
# Create sample data
set.seed(123)
n <- 100
data <- data.frame(
  id = rep(c("A", "B"), each = n/2),
  time = rep(1:(n/2), 2),
  ts1 = c(sin(seq(0, 4*pi, length.out = n/2)) + rnorm(n/2, 0, 0.1),
          cos(seq(0, 4*pi, length.out = n/2)) + rnorm(n/2, 0, 0.1)),
  ts2 = rnorm(n)
)

# Calculate all measures with grouping
result <- rolling_measures(data, id_col = "id", window_width = 10)

# Calculate specific measures globally
result_global <- rolling_measures(
  data,
  measures = c("complexity", "variance"),
  window_width = 10
)

}
