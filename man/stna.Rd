% Generated by roxygen2: do not edit by hand
% Please edit documentation in R/stna.R
\name{stna}
\alias{stna}
\title{Sequence/Time Series Network Analysis (STNA)}
\usage{
stna(
  time_series,
  num_states,
  method = "kmeans",
  analysis_level = "global",
  window_size = 1,
  distance_metric = "euclidean",
  user_column = NULL,
  value_column,
  rank_states = TRUE,
  transform = "none"
)
}
\arguments{
\item{time_series}{A data frame containing the time series data. It must include
a column for the time series values and optionally a column for user/group IDs.}

\item{num_states}{Integer. The desired number of discrete states to discretize
the time series into.}

\item{method}{Character string. The discretization method to use. Options include:
"kmeans", "quantile", "equal_width", "entropy", "mixture", "hierarchical",
"change_points", "dtw", and "proxy_windowed". Defaults to "kmeans".}

\item{analysis_level}{Character string. Specifies whether to perform analysis
at a "global" level (treating the entire `time_series` as one unit) or at a
"user" level (performing analysis independently for each unique user/group
defined by `user_column` and then aggregating transitions). Defaults to "global".}

\item{window_size}{Integer. Relevant for window-based discretization methods
like "proxy_windowed". Specifies the size of the sliding window. Defaults to 1.}

\item{distance_metric}{Character string. Relevant for distance-based discretization
methods like "proxy_windowed". Specifies the distance metric to use (e.g., "euclidean").
Defaults to "euclidean".}

\item{user_column}{Character string. The name of the column in `time_series` that
contains user or group identifiers. Required if `analysis_level` is "user".
Defaults to `NULL`.}

\item{value_column}{Character string. The name of the column in `time_series` that
contains the numeric time series values to be analyzed.}

\item{rank_states}{Logical. If `TRUE` (default), the discrete states will be
ranked based on their mean original time series values.}

\item{transform}{Character string. Specifies a transformation to apply to the
time series data before discretization. Options: "none" (default), "log",
"sqrt", "scale" (z-score standardization), "center" (mean-centering).}
}
\value{
A list containing comprehensive results of the STNA, including:
  \item{data}{The original input data frame augmented with `state`, `original_value`,
    `transformed_value`, and `ranked_state` (if `rank_states` is TRUE) columns.}
  \item{states}{A vector of the discrete state assignments for each data point.}
  \item{ranked_states}{A vector of ranked state assignments if `rank_states` is TRUE.}
  \item{state_mapping}{A mapping from original state IDs to ranked state IDs if `rank_states` is TRUE.}
  \item{transition_matrix}{The Markov transition probability matrix between states.}
  \item{global_statistics}{Detailed statistics for each state across the entire time series.}
  \item{state_summary}{A summary data frame of state statistics.}
  \item{user_results}{A list of results for each user/group if `analysis_level` is "user".}
  \item{method}{The discretization method used.}
  \item{breaks}{Information about the breaks used for discretization (method-dependent).}
  \item{analysis_level}{The analysis level performed ("global" or "user").}
  \item{transformation}{The transformation method applied.}
  \item{transformation_parameters}{Parameters used for the transformation.}
  \item{parameters}{A list of all parameters used in the function call.}
}
\description{
This function provides a comprehensive framework for analyzing time series data
by converting it into discrete states and constructing Markov transition networks.
It supports various discretization methods, global or user-level analysis,
and optional state ranking and data transformation.
}
