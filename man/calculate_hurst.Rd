% Generated by roxygen2: do not edit by hand
% Please edit documentation in R/hurst_analysis.R
\name{calculate_hurst}
\alias{calculate_hurst}
\title{Calculate Hurst Exponent and Time-Varying Persistence States}
\usage{
calculate_hurst(
  data = NULL,
  ts_col = NULL,
  ts_data = NULL,
  method = c("dfa", "rs", "mfdfa"),
  scaling = c("none", "center", "standardize", "minmax", "iqr"),
  min_scale = 4,
  max_scale = NULL,
  n_scales = 10,
  q_values = seq(-5, 5, 0.5),
  window_size = 50,
  step_size = 1,
  add_state = TRUE
)
}
\arguments{
\item{data}{Data frame containing the time series (optional if ts_data is provided)}

\item{ts_col}{Column name in data containing the time series values}

\item{ts_data}{Numeric vector of time series data (alternative to data/ts_col)}

\item{method}{Character string specifying the method: "dfa", "rs", or "mfdfa"}

\item{scaling}{Scaling method: "none", "center", "standardize", "minmax", or "iqr"}

\item{min_scale}{Minimum scale for analysis (default: 4)}

\item{max_scale}{Maximum scale for analysis (default: NULL, auto-determined)}

\item{n_scales}{Number of scales to analyze (default: 10)}

\item{q_values}{Vector of q values for MFDFA (default: seq(-5, 5, 0.5))}

\item{window_size}{Window size for time-varying analysis (default: 50)}

\item{step_size}{Step size for rolling window (default: 1)}

\item{add_state}{Whether to calculate time-varying states (default: TRUE)}
}
\value{
Data frame with Hurst analysis results or list for global analysis
}
\description{
This function provides a comprehensive toolkit for analyzing the long-range
dependence (long-term memory) of a time series via the Hurst exponent (H).
It can calculate a single, global Hurst exponent for the entire series or,
more powerfully, compute a time-varying Hurst exponent to identify how the
persistence characteristics of the series change over time.

The analysis can be performed using one of three established methods:
- **DFA:** Detrended Fluctuation Analysis (robust to non-stationarity).
- **R/S:** Rescaled Range Analysis (the classical method developed by Hurst).
- **MFDFA:** Multifractal Detrended Fluctuation Analysis (an extension
  of DFA that captures how scaling behavior varies).
}
\section{Hurst Exponent Interpretation}{

The Hurst exponent quantifies the nature of a time series. It is a value
between 0 and 1, indicating whether the series is trending, mean-reverting,
or behaving randomly.

- **`H > 0.5 (Persistent)`**: A value in this range indicates a persistent
  or trend-following behavior. A high value is followed by another high
  value, and a low value by another low value. This is characteristic of
  series with "momentum." The closer H is to 1.0, the stronger the trend.
  *Example*: Stock prices that are trending upwards tend to continue
  upwards in the short term.

- **`H = 0.5 (Random Walk)`**: This indicates a completely random series,
  like a geometric Brownian motion. There is no correlation between past
  and future values. The series has no "memory."
  *Example*: The path of a pollen grain in water (Brownian motion) or
  the theoretical behavior of a perfectly efficient market.

- **`H < 0.5 (Anti-persistent)`**: This indicates anti-persistent or
  mean-reverting behavior. A high value is more likely to be followed by a
  low value, and vice-versa. The series tends to revert to its long-term mean.
  The closer H is to 0, the stronger the mean reversion.
  *Example*: The volatility of a financial asset often exhibits
  mean-reversion, where periods of high volatility are followed by
  periods of low volatility.
}

\examples{
# Generate sample data
set.seed(123)
data <- data.frame(
  time = 1:500,
  value = cumsum(rnorm(500))
)

# Calculate time-varying Hurst states
result <- calculate_hurst(data, ts_col = "value", method = "dfa")
head(result)

# Global Hurst analysis
global_result <- calculate_hurst(ts_data = data$value, method = "dfa", add_state = FALSE)
print(global_result)

}
